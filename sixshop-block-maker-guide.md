# 식스샵 프로 블록 메이커 - 미라콤 스타일 헤더 완전 가이드

## 📋 목차
1. [소개](#소개)
2. [블록 메이커란?](#블록-메이커란)
3. [설치 방법](#설치-방법)
4. [설정 패널 사용법](#설정-패널-사용법)
5. [에디터에서 커스터마이징](#에디터에서-커스터마이징)
6. [고급 기능](#고급-기능)
7. [문제 해결](#문제-해결)

---

## 소개

이 헤더 블록은 **식스샵 프로 블록 메이커**를 활용하여 제작되었으며, 코드를 직접 수정하지 않고도 에디터 패널에서 모든 설정을 변경할 수 있는 **완전히 커스터마이징 가능한** 헤더입니다.

### ✨ 주요 기능

#### 🎨 비주얼 에디터 지원
- 로고, 색상, 폰트 등을 에디터 패널에서 즉시 변경
- 코드 편집 없이 메뉴 구조 수정 가능
- 실시간 미리보기

#### 📱 완벽한 반응형
- PC/태블릿/모바일 자동 대응
- 모바일 브레이크포인트 커스터마이징

#### 🎯 미라콤 스타일 구조
- 3단계 네비게이션 (Depth 1 → 2 → 3)
- 메가 메뉴 (3컬럼 레이아웃)
- 드롭다운 배경 오버레이

#### ⚙️ 고급 설정
- Sticky 헤더 옵션
- 애니메이션 속도 조절
- 모바일 디자인 세부 설정

---

## 블록 메이커란?

**블록 메이커**는 식스샵 프로에서 제공하는 강력한 커스텀 블록 제작 도구입니다.

### 블록 메이커의 장점

1. **코드 + 설정 패널**: HTML/CSS/JS 코드와 함께 사용자 친화적인 설정 패널 제공
2. **재사용성**: 한 번 만든 블록을 여러 페이지에 재사용
3. **Context 객체**: 동적 데이터 바인딩으로 유연한 커스터마이징
4. **Handlebars.js**: 템플릿 엔진을 통한 강력한 로직 구현

### Context 객체 구조

블록 메이커는 각 블록에 고유한 Context 객체를 제공합니다:

```javascript
{
  "id": "block_unique_id",
  "property": {
    "logoImage": "https://...",
    "headerBg": "#ffffff",
    "menu1Title": "회사소개",
    // ... 기타 설정값들
  }
}
```

### Handlebars.js 문법

Context 객체의 값에 접근할 때 사용:

```html
<!-- 단순 값 출력 -->
<img src="{{property.logoImage}}" alt="{{property.logoAlt}}">

<!-- 조건문 -->
{{#if property.showLanguageSwitch}}
  <div>언어 선택 표시</div>
{{/if}}

<!-- 반복문 -->
{{#each menuItems}}
  <li>{{this.title}}</li>
{{/each}}

<!-- CSS에서 사용 -->
<style>
  .header {
    background: {{property.headerBg}};
    color: {{property.headerText}};
  }
</style>
```

---

## 설치 방법

### Step 1: 블록 메이커 접속

1. 식스샵 프로 대시보드 로그인
2. 좌측 메뉴에서 **"디자인"** 클릭
3. **"블록 메이커"** 선택
4. **"새 블록 만들기"** 버튼 클릭

### Step 2: 블록 기본 정보 입력

```
블록 이름: 미라콤 스타일 헤더
카테고리: 헤더
설명: 3단계 네비게이션과 메가 메뉴를 지원하는 반응형 헤더
```

### Step 3: HTML 코드 붙여넣기

1. 블록 메이커의 **"HTML" 탭** 선택
2. `sixshop-header-block-with-settings.html` 파일의 전체 내용을 복사
3. 에디터에 붙여넣기

### Step 4: 설정 스키마 추가

1. 블록 메이커의 **"설정"** 또는 **"세팅 빌더"** 탭 선택
2. `sixshop-header-settings.json` 파일의 내용을 복사
3. 우측 상단의 **"⋮" (더보기 메뉴)** 클릭
4. **"JSON 붙여넣기"** 또는 **"Import"** 선택
5. 복사한 JSON 코드 붙여넣기

> **참고**: 식스샵 프로 버전에 따라 인터페이스가 다를 수 있습니다. JSON 직접 입력이 안 되는 경우, 세팅 빌더에서 각 필드를 수동으로 추가해야 할 수 있습니다.

### Step 5: 헬퍼 함수 등록 (필요시)

블록 메이커에 **"헬퍼 함수"** 또는 **"JavaScript 헬퍼"** 탭이 있다면, 다음 코드를 추가하세요:

```javascript
// 문자열 분할 헬퍼
Handlebars.registerHelper('split', function(str, delimiter) {
  if (!str) return [];
  return str.split(delimiter);
});

// 조건 비교 헬퍼
Handlebars.registerHelper('ifEquals', function(arg1, arg2, options) {
  return (arg1 === arg2) ? options.fn(this) : options.inverse(this);
});
```

> **참고**: 식스샵 프로가 이미 이 헬퍼들을 제공하는 경우 이 단계는 건너뛰세요.

### Step 6: 블록 저장 및 게시

1. 우측 상단의 **"저장"** 버튼 클릭
2. **"게시"** 또는 **"공개"** 버튼 클릭
3. 블록이 블록 라이브러리에 추가됨

### Step 7: 페이지에 블록 추가

1. 헤더를 추가할 페이지의 에디터 열기
2. 좌측 패널에서 **"블록 추가"** 클릭
3. **"내 블록"** 또는 **"커스텀 블록"** 카테고리 선택
4. **"미라콤 스타일 헤더"** 블록을 페이지로 드래그

---

## 설정 패널 사용법

블록을 페이지에 추가한 후, 블록을 선택하면 우측 패널에 설정 옵션들이 나타납니다.

### 📸 로고 설정

#### 로고 이미지
- **타입**: 이미지 선택기
- **사용법**: "이미지 선택" 버튼 클릭 → 미디어 라이브러리에서 선택 또는 새로 업로드
- **권장**: SVG 또는 투명 배경 PNG, 가로 비율 이미지

#### 로고 대체 텍스트
- **타입**: 텍스트 입력
- **기본값**: "회사 로고"
- **용도**: SEO 및 스크린 리더 접근성

#### 로고 높이
- **타입**: 슬라이더
- **범위**: 20px ~ 60px
- **기본값**: 32px
- **팁**: 일반적으로 24px~40px 사이가 적당

#### 로고 링크 URL
- **타입**: URL 입력
- **기본값**: "/"
- **용도**: 로고 클릭 시 이동할 페이지 (보통 홈페이지)

---

### 🎨 색상 및 스타일

#### 헤더 배경색
- **타입**: 색상 선택기
- **기본값**: #ffffff (흰색)
- **예시**:
  - 밝은 테마: `#ffffff`, `#f8f9fa`
  - 다크 테마: `#1a1a1a`, `#2c2c2c`

#### 텍스트 색상
- **타입**: 색상 선택기
- **기본값**: #000000 (검정)
- **팁**: 배경색과 대비가 충분해야 가독성 확보

#### 호버 색상
- **타입**: 색상 선택기
- **기본값**: #0066cc (파란색)
- **용도**: 메뉴 항목에 마우스 올렸을 때 표시되는 색상

#### 드롭다운 배경색
- **타입**: 색상 선택기
- **기본값**: #ffffff
- **팁**: 헤더 배경색과 같거나 약간 다르게 설정

#### 헤더 높이
- **타입**: 슬라이더
- **범위**: 60px ~ 120px
- **기본값**: 80px
- **팁**:
  - 미니멀: 60-70px
  - 표준: 70-90px
  - 큰 로고: 90-120px

#### 폰트
- **타입**: 선택 박스
- **옵션**:
  - 시스템 기본
  - Noto Sans KR
  - Pretendard
  - Montserrat
- **팁**: 한글 사이트는 Noto Sans KR 또는 Pretendard 권장

---

### 📋 메뉴 항목 설정

#### 메뉴 구조 이해하기

헤더는 총 **4개의 1depth 메뉴**를 지원합니다:
- 메뉴 1: 단순 드롭다운 (예: 회사 가치)
- 메뉴 2: 메가 메뉴 (예: 서비스 및 솔루션)
- 메뉴 3: 단순 드롭다운 (예: 고객지원)
- 메뉴 4: 단순 드롭다운 (예: 회사소개)

#### 메뉴 1 설정 (단순 드롭다운)

**메뉴 1 제목**
```
입력 예시: 회사 가치
```

**메뉴 1 링크**
```
입력 예시: /about
또는: # (드롭다운만 표시)
```

**하위 메뉴 (한 줄에 하나씩)**
```
형식: 메뉴명|링크URL

입력 예시:
핵심 역량|/about/capability
회사 비전|/about/vision
경영 철학|/about/philosophy
```

#### 메뉴 2 설정 (메가 메뉴)

**메뉴 2 제목**
```
입력 예시: 서비스 및 솔루션
```

**넓은 메가 메뉴 사용**
- ✅ 체크: 3컬럼 레이아웃 표시
- ☐ 체크 해제: 일반 드롭다운

**카테고리 1 제목**
```
입력 예시: 서비스
```

**카테고리 1 항목**
```
입력 예시:
컨설팅|/services/consulting
MES 구축|/services/mes
ERP 구축|/services/erp
설비 자동화|/services/automation
물류 자동화|/services/logistics
에너지 관리|/services/energy
IT 인프라|/services/infra
시스템 운영|/services/operation
```

**카테고리 2 제목**
```
입력 예시: 솔루션
```

**카테고리 2 항목**
```
입력 예시:
통합 플랫폼|/solutions/platform
품질 관리|/solutions/quality
데이터 분석|/solutions/analytics
물류 제어|/solutions/logistics
```

**카테고리 3 제목**
```
입력 예시: 업종
```

**카테고리 3 항목**
```
입력 예시:
반도체/태양광|/industries/semiconductor
전기/전자|/industries/electronics
자동차|/industries/automotive
배터리|/industries/battery
식음료/제약|/industries/food-pharma
화학/소재|/industries/chemical
기계/금속|/industries/machinery
```

---

### 🔗 유틸리티 메뉴

헤더 우측에 표시되는 추가 링크들입니다.

**유틸리티 링크 1**
```
텍스트: 문의하기
URL: /contact
```

**유틸리티 링크 2**
```
텍스트: 고객포탈
URL: https://portal.yourcompany.com
```

**유틸리티 링크 3**
```
텍스트: Cloud
URL: https://cloud.yourcompany.com
```

---

### 🌐 언어 설정

#### 언어 선택 표시
- ✅ 체크: 언어 선택기 표시
- ☐ 체크 해제: 언어 선택기 숨김

#### 언어 1 설정
```
텍스트: KO
URL: / (또는 /ko)
```

#### 언어 2 설정
```
텍스트: EN
URL: /en
```

#### 현재 언어
- 언어 1: KO 활성화
- 언어 2: EN 활성화

---

### 📱 모바일 설정

#### 모바일 헤더 높이
- **범위**: 50px ~ 80px
- **기본값**: 60px
- **팁**: PC보다 작게 설정하여 화면 공간 확보

#### 모바일 로고 높이
- **범위**: 16px ~ 40px
- **기본값**: 24px

#### 모바일 브레이크포인트
- **범위**: 600px ~ 992px
- **기본값**: 768px
- **설명**: 이 값 이하에서 모바일 메뉴로 전환
- **일반적인 값**:
  - 768px: 태블릿 세로/모바일
  - 992px: 태블릿 가로 포함

---

### ⚙️ 고급 설정

#### 스크롤 시 헤더 고정
- ✅ 체크: Sticky 헤더 (스크롤해도 상단 고정)
- ☐ 체크 해제: 일반 헤더

#### 드롭다운 배경 오버레이 표시
- ✅ 체크: 메뉴 호버 시 어두운 배경 표시
- ☐ 체크 해제: 배경 없이 드롭다운만 표시

#### 애니메이션 속도
- **범위**: 100ms ~ 800ms
- **기본값**: 300ms
- **팁**:
  - 빠름: 200ms
  - 표준: 300ms
  - 느림: 400-500ms

#### 최대 너비
- **기본값**: 1440px
- **설명**: 헤더 내부 콘텐츠의 최대 너비
- **0 입력**: 무제한 (전체 너비)

#### 메뉴 간격
- **범위**: 20px ~ 80px
- **기본값**: 50px
- **설명**: 1depth 메뉴 항목 사이의 간격

---

## 에디터에서 커스터마이징

### 실시간 미리보기

설정을 변경하면 에디터에서 **실시간으로 미리보기**가 업데이트됩니다.

1. 우측 설정 패널에서 값 변경
2. 에디터 화면에서 즉시 확인
3. 만족스러우면 "저장" 클릭

### 반응형 미리보기

에디터 상단의 기기 아이콘을 클릭하여 다양한 화면 크기에서 확인하세요:

- 💻 **데스크톱**: 1920px, 1440px, 1280px
- 📱 **태블릿**: 1024px, 768px
- 📱 **모바일**: 375px, 414px

### A/B 테스트 팁

여러 디자인을 테스트하고 싶다면:

1. 블록 메이커에서 블록을 **복제**
2. 각 블록의 색상/레이아웃을 다르게 설정
3. 같은 페이지에 두 블록을 번갈아 배치
4. 성과 데이터를 비교

---

## 고급 기능

### 동적 메뉴 구조

#### 3단계 메뉴 추가하기

메뉴 2의 카테고리 항목에서 3단계 메뉴를 만들 수 있습니다:

```
카테고리 1 항목:
컨설팅|/services/consulting
MES 구축|#
  > On-Premise|/services/mes/on-premise
  > Cloud|/services/mes/cloud
ERP 구축|/services/erp
```

> **참고**: 현재 버전은 파이프(|) 구분 형식만 지원합니다. 중첩 구조는 추후 업데이트 예정입니다.

### Custom CSS 추가

블록에 추가 스타일을 적용하고 싶다면:

1. 페이지 에디터에서 블록 선택
2. 우측 패널에서 **"고급"** 또는 **"CSS 클래스"** 찾기
3. 커스텀 클래스 추가 (예: `my-custom-header`)
4. 페이지 설정 → 코드 삽입 → Head에 추가:

```html
<style>
.my-custom-header .gnb-depth1 > li > a {
  text-transform: uppercase; /* 메뉴 텍스트 대문자 */
  letter-spacing: 1px;
}
</style>
```

### JavaScript 이벤트 추가

헤더에 커스텀 이벤트를 추가하려면:

```html
<script>
document.addEventListener('DOMContentLoaded', function() {
  // 메뉴 클릭 추적
  document.querySelectorAll('.gnb-depth1 > li > a').forEach(function(link) {
    link.addEventListener('click', function(e) {
      console.log('메뉴 클릭:', this.textContent);
      // Google Analytics 등 추적 코드 추가 가능
    });
  });
});
</script>
```

### 메뉴 데이터를 외부에서 가져오기

API나 데이터베이스에서 메뉴 구조를 가져오는 고급 사용법:

1. 블록 메이커의 JavaScript 영역에 추가:

```javascript
// 외부 API에서 메뉴 데이터 가져오기
fetch('/api/menu-structure')
  .then(response => response.json())
  .then(data => {
    // Context property 업데이트
    updateBlockProperty('menu1Title', data.menu1.title);
    updateBlockProperty('menu1SubItems', data.menu1.items.join('\n'));
  });
```

> **참고**: 이 기능은 식스샵 프로의 고급 기능이며, 구체적인 구현 방법은 공식 문서를 참조하세요.

---

## 문제 해결

### ❓ 설정 패널이 보이지 않아요

**원인**: 블록 설정이 제대로 저장되지 않음

**해결**:
1. 블록 메이커로 돌아가기
2. "설정" 탭에서 JSON 코드가 제대로 입력되었는지 확인
3. JSON 형식 오류 확인 (쉼표, 중괄호 등)
4. 블록 다시 저장 및 게시

### ❓ 메뉴가 표시되지 않아요

**원인**: Context property 값이 비어있음

**해결**:
1. 블록 선택 → 설정 패널 열기
2. "메뉴 1 제목" 등 필수 필드 입력
3. 하위 메뉴는 올바른 형식으로 입력:
   ```
   메뉴명|/url
   ```
4. 각 줄이 파이프(|)로 구분되었는지 확인

### ❓ 색상이 적용되지 않아요

**원인**: CSS 변수가 제대로 렌더링되지 않음

**해결**:
1. 브라우저 개발자 도구(F12) 열기
2. 헤더 요소 검사
3. `:root` 변수가 올바른 값으로 렌더링되었는지 확인:
   ```css
   :root {
     --header-bg: #ffffff; /* 올바름 */
     --header-bg: {{property.headerBg}}; /* 잘못됨 - 렌더링 실패 */
   }
   ```
4. Handlebars 문법이 제대로 실행되지 않는 경우, 블록 메이커의 "템플릿 엔진" 설정 확인

### ❓ 모바일에서 메뉴가 작동하지 않아요

**원인**: JavaScript가 로드되지 않음

**해결**:
1. 브라우저 콘솔(F12 → Console) 확인
2. JavaScript 오류 메시지 확인
3. 블록 코드에서 `<script>` 태그가 모두 포함되었는지 확인
4. `mobileBreakpoint` 변수가 올바르게 설정되었는지 확인

### ❓ Handlebars 헬퍼가 작동하지 않아요

**원인**: 헬퍼 함수가 등록되지 않음

**해결**:
1. 블록 메이커의 "헬퍼 함수" 탭 확인
2. 다음 헬퍼들이 등록되어 있는지 확인:
   - `split`
   - `ifEquals`
3. 없으면 수동으로 추가
4. 또는 식스샵 프로 버전 확인 (최신 버전은 기본 제공)

### ❓ 드롭다운이 잘려 보여요

**원인**: 부모 요소의 `overflow: hidden` 설정

**해결**:
1. 페이지 에디터에서 헤더 블록의 부모 섹션 선택
2. 부모 섹션 설정에서 "Overflow" 옵션 찾기
3. `visible` 또는 `unset`으로 변경
4. 또는 Custom CSS 추가:
   ```css
   .miracom-header-parent {
     overflow: visible !important;
   }
   ```

### ❓ 로고 이미지가 너무 크거나 작아요

**해결**:
1. 설정 패널에서 "로고 높이" 슬라이더 조정
2. PC와 모바일을 각각 설정:
   - PC: 로고 높이
   - 모바일: 모바일 로고 높이
3. 이미지 자체의 해상도도 확인:
   - 권장: 최소 200px 높이의 고해상도 이미지
   - SVG 사용 시 해상도 무관

### ❓ 메가 메뉴가 화면을 벗어나요

**해결**:
1. 설정 패널에서 "최대 너비" 확인
2. 브라우저 창 크기가 최대 너비보다 작은지 확인
3. 필요시 CSS 수정:
   ```css
   .gnb-depth1-hover.wide {
     min-width: 600px; /* 기본 900px에서 축소 */
     max-width: 90vw; /* 화면 너비의 90% */
   }
   ```

---

## 체크리스트

### 설치 전 확인

- [ ] 식스샵 프로 플랜 가입
- [ ] 블록 메이커 기능 사용 가능 확인
- [ ] 로고 이미지 준비 (SVG 또는 PNG)
- [ ] 메뉴 구조 설계 완료
- [ ] 각 메뉴의 링크 URL 리스트 작성

### 설치 후 확인

- [ ] 블록이 블록 라이브러리에 표시됨
- [ ] 페이지에 블록 추가 가능
- [ ] 설정 패널이 우측에 표시됨
- [ ] 로고 이미지 업로드 및 표시 정상
- [ ] 색상 변경 시 실시간 반영
- [ ] 메뉴 항목 수정 시 즉시 업데이트
- [ ] PC 화면에서 드롭다운 정상 작동
- [ ] 태블릿 화면에서 레이아웃 확인
- [ ] 모바일에서 햄버거 메뉴 작동
- [ ] 모든 링크 클릭 시 올바른 페이지 이동

### 최종 점검

- [ ] 여러 브라우저에서 테스트 (Chrome, Safari, Firefox)
- [ ] 접근성 테스트 (키보드 네비게이션)
- [ ] 성능 테스트 (페이지 로딩 속도)
- [ ] SEO 요소 확인 (로고 alt 텍스트, 링크 title 등)

---

## 추가 리소스

### 식스샵 프로 공식 문서
- [블록 메이커 가이드](https://help.pro.sixshop.com/design/block-maker)
- [Handlebars.js 문법](https://handlebarsjs.com/guide/)
- [식스샵 프로 커뮤니티](https://community.sixshop.com/)

### 관련 파일
- `sixshop-header-settings.json` - 설정 스키마
- `sixshop-header-block-with-settings.html` - 블록 코드
- `miracom-navigation-analysis.md` - 원본 분석 문서

---

## 버전 정보

- **버전**: 1.0.0
- **최종 업데이트**: 2025-01-04
- **호환성**: 식스샵 프로 블록 메이커
- **의존성**: Handlebars.js (식스샵 프로 기본 제공)

---

## 지원

문제가 해결되지 않는 경우:

1. 식스샵 프로 고객센터 문의
2. 블록 메이커 버전 확인 (최신 버전으로 업데이트)
3. 브라우저 캐시 클리어 후 재시도

**제공**: NovaPartners
**기반**: 미라콤(Miracom) 글로벌 네비게이션 구조

---

**성공적인 헤더 제작을 기원합니다! 🚀**
